{ "name": "WixForms",
  "memberOf": "$w",
  "mixes":
    [ "$w.HiddenCollapsedMixin" ],
  "labels": [],
  "location":
    { "lineno": 1,
      "filename": "form.js" },
  "docs":
    { "summary": "An element for working with the Wix Forms app.",
      "description":
        [ "[The Wix Forms app](https://support.wix.com/en/article/about-wix-forms) lets site members and visitors enter values for fields in a Wix Form and then submit it. ",
          "",
          " The [`WixForms` API](https://support.wix.com/en/article/corvid-working-with-forms) contains all that you need to work with the Wix Forms app",
          " using Corvid APIs. You can customize how site visitors can work with the Wix Form, while ",
          " taking advantage of the Wix Forms app's ease of design, automatic creation of  ",
          " submission tables, accepting payments, automatic setup of email notifications, and more. ",
          " ",
          " You do not need to import `$w` or `wix-crm` to work with WixForms APIs.",
          "",
          " <h3>Working with the WixForms API</h3>",
          "",
          "",
          " To work with a `WixForms` element using the API:",
          "",
          "",
          " 1. <a href=\"https://support.wix.com/en/article/adding-and-setting-up-a-form-on-your-site\" target=\"_blank\">Add and set up the Wix Form app on your site</a>. ",
          " 1. Depending on the form you choose, a <a href=\"https://support.wix.com/en/article/corvid-working-with-wix-app-collections-and-code#what-are-wix-app-starter-collections\" target=\"_blank\">Wix app starter collection</a> is also added to your site. Use this collection as a template.",
          " 1. When you add the `WixForms` element, a [`Form`](#\\$w/form) $w element is also added. The `Form` element is a container for the input elements and buttons in the Wix Form. If you hide or collapse either the `WixForms` or the `Form` element, the other element is also hidden/collapsed.",
          " ",
          "",
          "",
          "",
          "",
          " The `WixForms` API does not use functionality provided by [`FormElement`]($w.FormElement.html), ",
          " but the user input elements wrapped within the `WixForms` `Form` element can. For example, you cannot check if a Wix Form has changed ",
          " using [`onChange`](#onChange), but you can check if one of the Wix Form's `Form` fields changed." ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "onWixFormSubmitted",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "eventHandler",
              "type": "$w.WixForms.WixFormSubmittedEventHandler",
              "doc": "The name of the function or\n the function expression to run when a Wix Form is submitted." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 44,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Adds an event handler that fires when a user submits a Wix Form and it is successfully received by the server.",
            "description":
              [ "When the site member or visitor submits a Wix Form, the field values are cleared and the `onWixFormSubmitted()`",
                " callback is triggered for the `WixForms` element. ",
                "",
                " The received [`WixFormSubmittedEvent`](#WixFormSubmittedEvent) object ",
                " contains information about the Wix Form that was submitted. The `WixFormSubmittedEvent` object is returned by the ",
                " callback asynchronously right after verification of a successful submission, while the server starts to process the",
                " relevant actions.",
                "",
                " The callback to run when the Wix Form was submitted is either the name of the function",
                " or a function expression.",
                "",
                " `onWixFormSubmitted()` in a page's code provides information and functionality available on the client side:",
                "",
                "",
                " * The function has access to the field names and field values on the form but does not have access to submission details that exist only on the server, such as the contact ID and the submission time.",
                " * `onWixFormSubmitted()` can perform operations only at the client side, such as clearing the fields of a form after submission. ",
                "",
                "",
                "",
                "",
                "",
                " See the [`onFormSubmit()`](wix-crm-backend/events/onFormSubmit) function, which is called in the Backend section's code, to set the event that fires when a user submits a form to the server." ],
            "links":
              [ "[WixFormSubmittedEvent](#WixFormSubmittedEvent)",
                "[onWixFormSubmittedError](#onWixFormSubmittedError)" ],
            "examples":
              [ { "title": "An event triggered on a WixForms element when the Wix Form is submitted",
                  "body":
                    [ "$w(\"#wixForm1\").onWixFormSubmitted( {fields} => {",
                      "  let firstName = fields[0].fieldValue;",
                      "  let lastName = fields[1].fieldValue;",
                      "  let donation = fields[2].fieldValue;",
                      "  let email = fields[3].fieldValue;",
                      "  $w('#text1').text = `Thank you, ${firstName} ${lastName}, for your generous donation of ${donation}.`;",
                      "});",
                      "",
                      "/* fields object:",
                      "* 0: \"{\\\"id\\\":\\\"inputFirstName\\\",\\\"fieldValue\\\":\\\"Maria\\\",\\\"fieldName\\\":\\\"Enter first name\\\"}\"",
                      "* 1: \"{\\\"id\\\":\\\"inputLastName\\\",\\\"fieldValue\\\":\\\"Santora\\\",\\\"fieldName\\\":\\\"Enter last name\\\"}\"",
                      "* 2: \"{\\\"id\\\":\\\"inputDonation\\\",\\\"fieldValue\\\":\\\"1000\\\",\\\"fieldName\\\":\\\"Enter donation amount\\\"}\"",
                      "* 3: \"{\\\"id\\\":\\\"inputEmail\\\",\\\"fieldValue\\\":\\\"ms@theCompany\\\",\\\"fieldName\\\":\\\"Enter email\\\"}\"",
                      "*/" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "eventType": "WixFormSubmittedEvent" } },
      { "name": "onWixFormSubmittedError",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "eventHandler",
              "type": "$w.WixForms.WixFormSubmittedErrorEventHandler",
              "doc": "The name of the function or\n the function expression to run when a Wix Form is not submitted due to error." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 81,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Adds an event handler that fires when a user is not able to successfully submit a Wix Form to the server.",
            "description":
              [ "If a Wix Form has not been successfully submitted by the user, the received",
                " [`WixFormSubmittedErrorEvent`](#WixFormSubmittedErrorEvent) object",
                " contains error information about why the Wix Form could not be submitted. ",
                "",
                " The `WixFormSubmittedErrorEvent` object is returned by the callback asynchronously right after ",
                " an unsuccessful submission.",
                "",
                " The `onWixFormSubmittedError` callback is triggered for the WixForms element. The callback is either the name of the",
                " function or a function expression.",
                "",
                " **Error Codes and Descriptions**",
                "",
                "",
                " * INVALID_FIELD. A field value was not entered correctly by the user.",
                " * FILE\\_NOT\\_UPLOADED. A file or signature upload did not succeed.",
                " * INVALID_ARGUMENT. An internal server error occurred.",
                " * UNAUTHENTICATED. The user's identity is not authenticated.",
                " * PERMISSION_DENIED. The user does not have permissions to submit the Wix Form, such as the CAPTCHA challenge was not verified.",
                " * RESOURCE_EXHAUSTED. The request to submit the Wix Form was denied by the server to prevent overload and improve overall performance.",
                " * UNAVAILABLE. The service is not available.",
                " * UNKNOWN_ERROR. An unknown error occurred." ],
            "links":
              [ "[WixFormSubmittedErrorEvent](#WixFormSubmittedErrorEvent)",
                "[onWixFormSubmitted](#onWixFormSubmitted)" ],
            "examples":
              [ { "title": "An event triggered on a WixForms element when the Wix Form is submitted",
                  "body":
                    [ "$w(\"#wixForms1\").onWixFormSubmittedError(     ",
                      "  (  {code, message}  ) => {",
                      "    $w(\"#text1\").text = code;",
                      "    $w(\"#text2\").text = message;",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "eventType": "WixFormSubmittedErrorEvent" } } ],
  "callbacks":
    [ { "name": "WixFormSubmittedErrorEventHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "$w.WixFormSubmittedErrorEvent",
              "doc": "The Wix Forms event that occurred." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 128,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Handles events fired when the Wix Form is not submitted due to error.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "WixFormSubmittedEventHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "$w.WixFormSubmittedErrorEvent",
              "doc": "The Wix Forms event that occurred." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 121,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Handles events fired when the Wix Form is submitted.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "messages": [],
  "extra":
    { "notes":
        [ "Alternatively, you can use the Corvid API to create your own custom forms without the Wix Forms app and connect \n the form's fields to collections. You customize your own forms using standard input elements \n and buttons for submission. When customizing your own forms, you have \n options that might not yet be available from the Wix Forms app. For example, you can add more than ten fields\n to your form without upgrading your site to premium and you can add more varied input elements like sliders and togglers." ] } }